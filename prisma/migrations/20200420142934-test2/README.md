# Migration `20200420142934-test2`

This migration has been generated by Patrik FasÌŒang at 4/20/2020, 2:29:34 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "default$default"."Project" DROP CONSTRAINT IF EXiSTS "Project_managerId_fkey",
ALTER COLUMN "managerId" DROP NOT NULL;

ALTER TABLE "default$default"."Project" ADD FOREIGN KEY ("managerId")REFERENCES "default$default"."Profile"("user") ON DELETE SET NULL  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200420142743-test2..20200420142934-test2
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 model Activity {
   id            String          @id @default(cuid())
@@ -42,10 +42,10 @@
 model Project {
   id          String     @id @default(cuid())
   name        String     @unique
   description String
-  manager     Profile   @relation(fields: [managerId], references: [user])
-  managerId   String
+  manager     Profile?   @relation(fields: [managerId], references: [user])
+  managerId   String?
   startDate   DateTime
   endDate     DateTime?
   activities  Activity[]
 }
```


